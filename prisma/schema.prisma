generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model UserEmpresa{
  id_userEmpresa  String @id @default(uuid())
  id_endereco String @unique
  endereco Endereco @relation(fields: [id_endereco], references: [id_endereco])
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  razaoSocial String @db.Char(100)
  nome_fantasia String @db.Char(100)
  cnpj String @unique @db.Char(14)
  ie String @unique @db.Char(16)
  telefone String @db.Char(11)
  email String @unique @db.Char(100)
  senha String
  CriaVaga CriarVaga[]
}

model UserCandidato{
  id_userCandidato String @id @default(uuid())
  id_endereco String @unique  
  endereco Endereco @relation(fields: [id_endereco], references: [id_endereco])
  id_curriculoForm String @unique 
  curriculo_form Curriculo_form @relation(fields: [id_curriculoForm], references: [id_curriculoForm])
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  nome String @db.Char(100) 
  sobrenome String @db.Char(100)
  cpf String @unique @db.Char(11)
  dataNascimento DateTime 
  email String @unique @db.Char(100)
  telefone String @db.Char(11)
  curriculo_anexo String @db.LongText
  senha String
  candidatoVaga CandidatoVaga[]
}

model Curriculo_form {
  id_curriculoForm String @id @default(uuid())
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  escolaridade String @db.Char(100)
  experienciasAnt String @db.LongText
  competenciasExtracurricular String @db.LongText
  certificacoes String @db.LongText
  userCandidato UserCandidato []
}

model CandidatoVaga{
  id_inscricao String @id @default(uuid())
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  id_userCandidato String @unique
  candidato UserCandidato @relation(fields: [id_userCandidato], references: [id_userCandidato])
  id_vaga String @unique
  vaga Vaga @relation(fields: [id_vaga], references: [id_vaga])
  dataInscricao DateTime
}

model Vaga{
  id_vaga String @id @default(uuid())
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  dataAbertura DateTime
  dataFechamento DateTime
  descricao String @db.LongText
  requisitos String @db.LongText
  CandidatoVaga CandidatoVaga[]
  CriaVaga CriarVaga[]
}

model CriarVaga {
  id_criaVaga String @id @default(uuid())
  id_userEmpresa String @unique
  Empresa UserEmpresa @relation(fields: [id_userEmpresa], references: [id_userEmpresa])
  id_vaga String @unique
  Vaga Vaga @relation(fields: [id_vaga], references: [id_vaga])
  dataCriacao DateTime
}

model Endereco {
  id_endereco String @id @default(uuid())
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  pais String @db.Char(100)
  estado String @db.Char(5)
  cidade String @db.Char(100)
  bairro String @db.Char(100)
  logradouro String @db.Char(100)
  numero String  @db.Char(10)
  cep String @db.Char(10) 
  UserCandidato UserCandidato[]
  UserEmpresa UserEmpresa[]
}